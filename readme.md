# 在小脚丫FPGA上实现不同的LED显示效果
## 任务简介
在小脚丫FPGA核心板上，利用8个单色LED实现不同的LED显示效果，通过4个轻触按键控制不同的LED显示模式，通过4个拨动开关控制每种显示模式的显示周期，并在数码管上通过数值显示出相应的模式和周期 - 第一个数码管显示LED的显示模式，第二个数码管显示周期：

## 功能介绍
### 轻触开关K1 ～ K4，用于切换LED的显示模式：
- K1: 循环心跳灯 - 8个LED轮流心跳，每一个LED心跳2个周期（半个周期亮、半个周期灭、半个周期亮、半个周期灭），然后该LED灭掉，下一个LED开始跳动，从第一个LED开始，到第8个LED，然后再从第一个开始，周而复始，其心跳的周期由拨动开关SW1～SW4控制
- K2: 呼吸灯 - 8个LED轮流呼吸，每一个LED呼吸2个周期（半个周期从灭到亮、半个周期从亮到灭、半个周期从灭到亮、半个周期从亮到灭），然后该LED灭掉，下一个LED开始呼吸，从第一个LED开始，到第8个LED，然后再从第一个开始，周而复始，其呼吸的周期由拨动开关SW1～SW4控制
- K3: 带渐灭功能的流水灯 - 8个LED构成流动显示的效果，且下面的灯亮度逐渐变暗
- K4: 自定义模式 - 自己设计一种不同样能够让8颗LED点亮的模式

### 拨动开关，用于控制显示的周期：
- SW1: 1秒
- SW2: 2秒
- SW3: 3秒
- SW4: 4秒

## 需求分析
本次任务大致可分为一组输出(显示部分)和一组输入部分(控制部分)，每个部分均有两个子模块具体分析如下：
### 显示部分
#### LED显示模块
本系统需要支持以下四种LED显示模式：
1. **循环心跳灯**：8个LED轮流心跳，每个LED有两个周期（半个周期亮、半个周期灭），然后切换到下一个LED，周期可通过拨动开关设置。
2. **呼吸灯**：8个LED轮流呼吸，每个LED有两个周期（半个周期从灭到亮、半个周期从亮到灭），然后切换到下一个LED，周期可通过拨动开关设置。
3. **带渐灭功能的流水灯**：8个LED构成流动显示的效果，且下面的灯亮度逐渐变暗，速度可通过拨动开关设置。
4. **自定义模式**：用户可自行设计一种LED点亮的模式。
在本次任务实现当中，自定义模式被设计为**爆闪灯**，即前4个灯以1/6个周期速度快速闪烁三次，随后后四个灯以1/6个周期速度快速闪烁三次，以此循环
#### 数码管显示模块
1. 第一个数码管显示当前LED的显示模式，即K1～K4进行的选择。
2. 第二个数码管显示当前LED的显示周期，即SW1-4进行的选择。
3. 当输入无效时，需要进行提醒。

### 控制部分
#### 轻触开关
使用四个轻触开关k1-k4控制LED的显示模式。
#### 拨码开关
使用四个拨动开关sw1-sw4控制LED运行的周期。

### 其他要求
#### 软硬件平台要求
使用小脚丫FPGA核心板，基于[webIDE](https://www.stepfpga.com/)进行综合，仿真，管脚映射与烧录。

## 功能实现方式
### 显示功能
### LED显示模块
1. 本次任务的灯都是依次点亮的，对于LED灯的选择，可以实现一个状态机分别对应8个灯，指示当前应当点亮哪个灯。
2. 对于LED的总的周期控制，需要实现一个分频器，将时钟分频为合适的速率输入LED驱动模块。
3. LED驱动模块将分为四个子模块，分别实现上述的四个功能：
   1. **循环心跳灯**：输入时钟的一半时间输出高，一半时间输出低。
   2. **呼吸灯**: 实现一个PWM生成器，输入时钟前一半时间每一次电平反转阈值+1，后一半时间每一次电平反转阈值-1。
   3. **带熄灭功能的流水灯**：实现8个PWM生成器，反转阈值分为4档(0,25,59,75,100)，状态机每切换一个，当前PWM生成器反转阈值设为100，前面所有的反转阈值减小一档。【拖3个尾巴】
   4. **爆闪灯**：将灯分为两组，输入时钟进行2分频用于选择灯组，再6分频用于点亮熄灭灯组。
### 数码管显示模块
实现一个译码器，显示当前模式选择寄存器与周期选择寄存器的信息。

### 控制功能
创建一个模式选择寄存器，一个周期选择寄存器，分别对应选择

## 功能框图
TBD

## 代码简介

## 仿真波形图

## FPGA的资源利用说明
TBD

## 演示视频
TBD

## 代码源文件
本仓库